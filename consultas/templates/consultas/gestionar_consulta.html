<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Consulta</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">
    <div class="w-full max-w-4xl bg-white p-8 rounded-xl shadow-lg">
        <h1 class="text-4xl font-bold mb-6 text-center text-gray-800">📝 Consulta: {{ consulta.asunto }}</h1>

        <div class="mb-6 p-6 bg-blue-50 border-l-4 border-blue-500 rounded-lg shadow">
            <p class="text-lg"><strong>De:</strong> {{ consulta.empleado.username }}</p>
            <p class="text-lg">{{ consulta.mensaje }}</p>
        </div>

        <h2 class="text-2xl font-semibold mb-4">Respuestas Anteriores</h2>

        {% for respuesta in respuestas %}
            <div class="p-4 mb-4 {% if respuesta.autor == consulta.jefe %}bg-green-50{% else %}bg-gray-50{% endif %} rounded-lg shadow">
                <p><strong>{{ respuesta.autor.username }}:</strong> {{ respuesta.mensaje }}</p>
                <p class="text-sm text-gray-500">{{ respuesta.fecha_creacion }}</p>
            </div>
        {% empty %}
            <p class="text-gray-500">No hay respuestas aún.</p>
        {% endfor %}

        <form method="post" class="mt-8 space-y-6">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-transform duration-200 transform hover:scale-105 shadow-md">
                ➕ Añadir Respuesta
            </button>
        </form>

        <div class="mt-8 text-center">
            <a href="{% url 'dashboard' %}" 
               class="text-blue-500 font-medium hover:underline hover:text-blue-700 transition-all">
                ⬅️ Volver al Dashboard
            </a>
        </div>
    </div>
</body>
</html>
